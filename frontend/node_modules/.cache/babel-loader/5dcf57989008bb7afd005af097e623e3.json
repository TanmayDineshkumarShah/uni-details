{"ast":null,"code":"var _jsxFileName = \"/home/tanmay/WebDev/uni-details-app/frontend/src/components/login/login.jsx\";\nimport React, { useState } from \"react\";\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Container from 'react-bootstrap/Container';\nimport axios from 'axios';\nimport Modal from 'react-bootstrap/Modal'; //import Row from 'react-bootstrap/Row';\n\nimport Col from 'react-bootstrap/Col';\nimport { useHistory } from \"react-router-dom\";\n\nfunction LoginComponent() {\n  const history = useHistory();\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const [respData, setRespData] = useState({});\n\n  function handleSubmit(event) {\n    const data = {\n      uid: event.target.uid.value,\n      pass: event.target.pass.value\n    }; //console.log(data);\n\n    axios.post('/login', data).then(response => {\n      setRespData(response.data);\n\n      if (response.data.code !== 200) {\n        handleShow();\n      } else {\n        localStorage.setItem('uid', data.uid);\n        history.push(\"/uni-details\");\n      } //console.log(response.data.message);\n\n    });\n    console.log(\"data posted\");\n    event.preventDefault();\n  }\n\n  return (\n    /*#__PURE__*/\n    // <Button>TANMAY</Button>\n    React.createElement(Container, {\n      className: \"p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, \"User ID\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"uid\",\n      type: \"text\",\n      placeholder: \"User ID\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Col, {\n      sm: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      name: \"pass\",\n      type: \"password\",\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(Modal, {\n      show: show,\n      onHide: handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, \"Login Unsuccesful\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }, respData.message), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }, \"Close\"))))\n  );\n}\n\nexport default LoginComponent;","map":{"version":3,"sources":["/home/tanmay/WebDev/uni-details-app/frontend/src/components/login/login.jsx"],"names":["React","useState","Button","Form","Container","axios","Modal","Col","useHistory","LoginComponent","history","show","setShow","handleClose","handleShow","respData","setRespData","handleSubmit","event","data","uid","target","value","pass","post","then","response","code","localStorage","setItem","push","console","log","preventDefault","message"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport Container from 'react-bootstrap/Container';\nimport axios from 'axios';\nimport Modal from 'react-bootstrap/Modal';\n//import Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport { useHistory } from \"react-router-dom\";\nfunction LoginComponent() {\n\n  const history = useHistory();\n\n\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  const [respData, setRespData] = useState({});\n\n\n  function handleSubmit(event) {\n\n    const data = {\n      uid: event.target.uid.value,\n      pass: event.target.pass.value\n    }\n\n    //console.log(data);\n\n    axios\n      .post('/login', data)\n      .then((response) => {\n        setRespData(response.data);\n        if (response.data.code !== 200) {\n          handleShow();\n        }\n        else {\n          localStorage.setItem('uid', data.uid);\n          history.push(\"/uni-details\");\n        }\n        //console.log(response.data.message);\n      });\n\n    console.log(\"data posted\");\n\n\n    event.preventDefault();\n  }\n\n  return (\n\n    // <Button>TANMAY</Button>\n    <Container className=\"p-3\">\n      <Form onSubmit={handleSubmit}>\n        <Form.Group controlId=\"formBasicEmail\">\n          <Form.Row>\n\n            <Form.Label column sm={2}>User ID</Form.Label>\n            <Col sm={10}>\n              <Form.Control name=\"uid\" type=\"text\" placeholder=\"User ID\" />\n            </Col>\n\n          </Form.Row>\n\n\n\n        </Form.Group>\n\n        <Form.Group controlId=\"formBasicPassword\">\n          <Form.Row>\n            <Form.Label column sm={2} >Password</Form.Label>\n            <Col sm={10}>\n              <Form.Control name=\"pass\" type=\"password\" placeholder=\"Password\" />\n            </Col>\n          </Form.Row>\n\n\n        </Form.Group>\n\n        <Button variant=\"primary\" type=\"submit\" >\n          Submit\n     </Button>\n      </Form>\n\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Login Unsuccesful</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>{respData.message}</Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n\n        </Modal.Footer>\n      </Modal>\n    </Container>\n\n\n\n\n  );\n\n}\n\n\nexport default LoginComponent;"]},"metadata":{},"sourceType":"module"}